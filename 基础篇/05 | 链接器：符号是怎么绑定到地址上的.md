# 05 | 链接器：符号是怎么绑定到地址上的

**链接器最主要的作用，就是将符号绑定到地址上**

## iOS 开发使用的编译器

**编译器**：把代码编译成机器码，然后直接在 CPU 上执行机器码 

**解释器**：在运行时解释执行代码，获取一段代码后就会将其翻译成目标代码（就是字节码（Bytecode）），然后一句一句地执行目标代码。

**既然编译器效率这么高，那为什么还有人用解释器呢？**

你写的程序跑起来后不用重新启动，就可以看到代码修改后的效果，这样就缩短了调试周期。程序发布后，你还可以随时修复问题或者增加新功能，用户也不用一定要等到发布新版本后才可以升级使用。所以说，使用解释器可以帮我们缩短整个程序的开发周期和功能更新周期。

+ 采用编译器生成机器码执行的好处是效率高，缺点是调试周期长。(c++ oc)

+ 解释器执行的好处是编写调试方便，缺点是执行效率低。(python perl shall)

**LLVM 是编译器工具链技术的一个集合。** 而其中的 lld 项目，就是内置链接器。编译器会对每个文件进行编译，生成 Mach-O（可执行文件）；链接器会将项目中的多个 Mach-O 文件合并成一个。

这里，我先简单为你总结下编译的几个主要过程：

+ 首先，你写好代码后，LLVM 会预处理你的代码，比如把宏嵌入到对应的位置。
+ 预处理完后，LLVM 会对代码进行词法分析和语法分析，生成 AST 。AST 是抽象语法树，结构上比代码更精简，遍历起来更快，所以使用 AST 能够更快速地进行静态检查，同时还能更快地生成 IR（中间表示）。
+ 最后 AST 会生成 IR，IR 是一种更接近机器码的语言，区别在于和平台无关，通过 IR 可以生成多份适合不同平台的机器码。对于 iOS 系统，IR 生成的可执行文件就是 Mach-O
